{% extends "base.html" %}


{% block content %}
</br>

<button type="button" style="float:right" onclick="updateServers();">一键更新</button>
<div class="rsshub-table">
	<table class="table table-striped table-bordered table-hover">
		<thead>
		<tr>
			<td>服务器ID</td>
			<td>服务器地址</td>
			<td>功能数</td>
			<td>最早获取日期</td>
			<td>最近获取日期</td>
		</tr>
		</thead>
		<tbody>
		{% for server in serversDict %}
			<tr>
				{% for detail in server.values() %}
					<td>{{ detail }}</td>
				{% endfor %}
			</tr>
		{% endfor %}
		</tbody>
	</table>
</div>
<script>
function updateServers(){
	var httpRequest = new XMLHttpRequest();
        httpRequest.open('GET', '../api/updateAllServers', true);
        httpRequest.send();
        httpRequest.onreadystatechange = function () {
            if (httpRequest.readyState == 4 && httpRequest.status == 200) {
                location.reload();
            }
        };
}
</script>  






{% endblock %}